(function() {
  angular.module('sincap', ['ionic', 'ui.mask']).config(function($httpProvider) {
    return $httpProvider.interceptors.push('TokenAuthInterceptor');
  }).run(function($ionicPlatform) {
    return $ionicPlatform.ready(function() {
      if (window.cordova && window.cordova.plugins.Keyboard) {
        cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);
      }
      if (window.StatusBar) {
        return StatusBar.styleDefault();
      }
    });
  });

}).call(this);

(function() {
  angular.module('sincap').config(function($stateProvider, $urlRouterProvider) {
    $stateProvider.state('app', {
      url: "/app",
      abstract: true,
      templateUrl: "templates/menu.html",
      controller: 'AppCtrl'
    }).state('app.search', {
      url: "/search",
      views: {
        'menuContent': {
          templateUrl: "templates/search.html"
        }
      }
    }).state('app.captacoes', {
      url: "/captacoes/:estado",
      views: {
        'menuContent': {
          templateUrl: "templates/captacao.html",
          controller: 'CaptacaoCtrl'
        }
      }
    }).state('app.single', {
      url: "/captacoes/:processoId",
      views: {
        'menuContent': {
          templateUrl: "templates/form.html",
          controller: 'CaptacaoCtrl'
        }
      }
    }).state('app.login', {
      url: "/login",
      views: {
        'menuContent': {
          templateUrl: "templates/login.html",
          controller: 'LoginCtrl'
        }
      }
    });
    return $urlRouterProvider.otherwise('/app/login');
  });

}).call(this);

(function() {
  var TokenAuthInterceptor;

  TokenAuthInterceptor = function($q, TokenStorage) {
    return {
      request: function(config) {
        var authToken;
        authToken = TokenStorage.retrieve();
        if (authToken) {
          config.headers['X-AUTH-TOKEN'] = authToken;
        }
        return config;
      },
      responseError: function(error) {
        if (error.status === 401 || error.status === 403) {
          TokenStorage.clear();
        }
        return $q.reject(error);
      }
    };
  };

  angular.module('sincap').factory('TokenAuthInterceptor', ['$q', 'TokenStorage', TokenAuthInterceptor]);

}).call(this);

(function() {
  var TokenStorage;

  TokenStorage = function() {
    var storageKey;
    storageKey = '';
    return {
      store: function(token) {
        return localStorage.setItem(storageKey, token);
      },
      retrieve: function() {
        return localStorage.getItem(storageKey);
      },
      clear: function() {
        return localStorage.removeItem(storageKey);
      }
    };
  };

  angular.module('sincap').factory('TokenStorage', [TokenStorage]);

}).call(this);

(function() {
  var AppController;

  AppController = (function() {
    function AppController($scope, CaptacaoService) {
      var CORRIGIR, REALIZAR;
      this.$scope = $scope;
      this.CaptacaoService = CaptacaoService;
      REALIZAR = 'AGUARDANDOCAPTACAO';
      CORRIGIR = 'AGUARDANDOCORRECAOCAPTACACAO';
      this.CaptacaoService.quantCaptacoesRealizar(REALIZAR).then((function(_this) {
        return function(results) {
          return _this.$scope.quantCaptacoesRealizar = results;
        };
      })(this));
      this.CaptacaoService.quantCaptacoesRealizar(CORRIGIR).then((function(_this) {
        return function(results) {
          return _this.$scope.quantCaptacoesCorrigir = results;
        };
      })(this));
    }

    return AppController;

  })();

  angular.module('sincap').controller('AppCtrl', ['$scope', 'CaptacaoService', AppController]);

}).call(this);

(function() {
  var CaptacaoController;

  CaptacaoController = (function() {
    function CaptacaoController($scope, $stateParams, captacaoService) {
      this.$scope = $scope;
      this.$stateParams = $stateParams;
      this.captacaoService = captacaoService;
      this.$scope.estado = this.$stateParams.estado;
      this.captacaoService.captacaoPorTipo(this.$scope.estado).then((function(_this) {
        return function(results) {
          _this.$scope.processos = {};
          return _this.$scope.processos = results;
        };
      })(this));
      this.$scope.title = 'Captações';
    }

    return CaptacaoController;

  })();

  angular.module('sincap').controller('CaptacaoCtrl', ['$scope', '$stateParams', 'CaptacaoService', CaptacaoController]);

}).call(this);

(function() {
  var LoginController;

  LoginController = (function() {
    function LoginController($scope, $location, loginService) {
      this.$scope = $scope;
      this.$location = $location;
      this.loginService = loginService;
      this.$scope.data = {};
      this.$scope.placeholder = "CPF";
      this.$scope.mask = "";
      this.$scope.login = (function(_this) {
        return function(data) {
          data = _this.$scope.formataCPF(data);
          return _this.loginService.login(data).success(function(results) {});
        };
      })(this);
      this.$scope.formataCPF = function(data) {
        var cpf;
        cpf = data.username;
        data.username = cpf.slice(0, 3) + '.' + cpf.slice(3, 6) + '.' + cpf.slice(6, 9) + '-' + cpf.slice(9, 12);
        return data;
      };
      this.$scope.focus = (function(_this) {
        return function() {
          console.log("focus");
          _this.$scope.mask = "999.999.999-99";
          return _this.$scope.placeholder = "";
        };
      })(this);
      this.$scope.nofocus = (function(_this) {
        return function() {
          console.log("nofocus");
          if (!_this.$scope.data || !_this.$scope.data.username) {
            _this.$scope.placeholder = "CPF";
            return _this.$scope.mask = "";
          } else {
            _this.$scope.mask = "999.999.999-99";
            return _this.$scope.placeholder = "";
          }
        };
      })(this);
    }

    return LoginController;

  })();

  angular.module('sincap').controller('LoginCtrl', ['$scope', '$location', 'LoginService', LoginController]);

}).call(this);

(function() {
  var CaptacaoService;

  CaptacaoService = (function() {
    var URLBASE;

    URLBASE = 'http://127.0.0.1:8080/msincap/captacao';

    function CaptacaoService($http) {
      this.$http = $http;
    }

    CaptacaoService.prototype.captacaoPorTipo = function(queryString) {
      return this.$http.get(URLBASE + '?estado=' + queryString).then(function(results) {
        return results.data;
      });
    };

    CaptacaoService.prototype.quantCaptacoesRealizar = function(estado) {
      return this.$http.get(URLBASE + '/quantidade' + '?estado=' + estado).then(function(results) {
        return results.data;
      });
    };

    return CaptacaoService;

  })();

  angular.module('sincap').service('CaptacaoService', ['$http', CaptacaoService]);

}).call(this);

(function() {
  var LoginService,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  LoginService = (function() {
    var nextStep, urlBase;

    urlBase = 'http://127.0.0.1:8080/msincap/api/login';

    nextStep = 'app/captacoes/AGUARDANDOCAPTACAO';

    function LoginService($http, $location, TokenStorage) {
      this.$http = $http;
      this.$location = $location;
      this.TokenStorage = TokenStorage;
      this.logoff = bind(this.logoff, this);
      this.login = bind(this.login, this);
    }

    LoginService.prototype.login = function(data) {
      return this.$http.post("" + urlBase, data).success((function(_this) {
        return function(result) {
          _this.TokenStorage.store(result);
          return _this.$location.path(nextStep);
        };
      })(this));
    };

    LoginService.prototype.logoff = function() {
      return this.TokenStorage.clear();
    };

    return LoginService;

  })();

  angular.module('sincap').service('LoginService', ['$http', '$location', 'TokenStorage', LoginService]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb2ZmZWUiLCJyb3V0ZXMuY29mZmVlIiwiaW50ZXJzZXB0YWRvci9Ub2tlbkF1dGhJbnRlcmNlcHRvci5jb2ZmZWUiLCJpbnRlcnNlcHRhZG9yL1Rva2VuU3RvcmFnZS5jb2ZmZWUiLCJjb250cm9sbGVycy9BcHBDb250cm9sbGVyLmNvZmZlZSIsImNvbnRyb2xsZXJzL0NhcHRhY2FvQ29udHJvbGxlci5jb2ZmZWUiLCJjb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIuY29mZmVlIiwic2VydmljZXMvQ2FwdGFjYW9TZXJ2aWNlLmNvZmZlZSIsInNlcnZpY2VzL0xvZ2luU2VydmljZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxFQUFBLE9BQU8sQ0FBQyxNQUFSLENBQWUsUUFBZixFQUF5QixDQUFDLE9BQUQsRUFBVSxTQUFWLENBQXpCLENBRUEsQ0FBQyxNQUZELENBRVEsU0FBQyxhQUFELEdBQUE7V0FDTixhQUFhLENBQUMsWUFBWSxDQUFDLElBQTNCLENBQWdDLHNCQUFoQyxFQURNO0VBQUEsQ0FGUixDQU1BLENBQUMsR0FORCxDQU1LLFNBQUMsY0FBRCxHQUFBO1dBQ0gsY0FBYyxDQUFDLEtBQWYsQ0FBcUIsU0FBQSxHQUFBO0FBQ25CLE1BQUEsSUFBRyxNQUFNLENBQUMsT0FBUCxJQUFtQixNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUE3QztBQUNFLFFBQUEsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsd0JBQXpCLENBQWtELElBQWxELENBQUEsQ0FERjtPQUFBO0FBRUEsTUFBQSxJQUFHLE1BQU0sQ0FBQyxTQUFWO2VBQ0UsU0FBUyxDQUFDLFlBQVYsQ0FBQSxFQURGO09BSG1CO0lBQUEsQ0FBckIsRUFERztFQUFBLENBTkwsQ0FBQSxDQUFBO0FBQUE7OztBQ0FBO0FBQUEsRUFBQSxPQUFPLENBQUMsTUFBUixDQUFlLFFBQWYsQ0FDQSxDQUFDLE1BREQsQ0FDUSxTQUFDLGNBQUQsRUFB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SUFBQyxDQUFBLFFBQUQsS0FBb0MsQ0FBQTtBQUFBLE1BQTVCLElBQUMsQ0FBQSxZQUFELFNBQTRCLENBQUE7QUFBQSxNQUFoQixJQUFDLENBQUEsZUFBRCxZQUFnQixDQUFBO0FBQUEsMkNBQUEsQ0FBQTtBQUFBLHlDQUFBLENBQXJDO0lBQUEsQ0FIYjs7QUFBQSwyQkFLQSxLQUFBLEdBQU8sU0FBQyxJQUFELEdBQUE7YUFDTCxJQUFDLENBQUEsS0FBSyxDQUFDLElBQVAsQ0FBWSxFQUFBLEdBQUcsT0FBZixFQUEwQixJQUExQixDQUErQixDQUFDLE9BQWhDLENBQXdDLENBQUEsU0FBQSxLQUFBLEdBQUE7ZUFBQSxTQUFDLE1BQUQsR0FBQTtBQUV0QyxVQUFBLEtBQUMsQ0FBQSxZQUFZLENBQUMsS0FBZCxDQUFvQixNQUFwQixDQUFBLENBQUE7aUJBQ0EsS0FBQyxDQUFBLFNBQVMsQ0FBQyxJQUFYLENBQWdCLFFBQWhCLEVBSHNDO1FBQUEsRUFBQTtNQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBeEMsRUFESztJQUFBLENBTFAsQ0FBQTs7QUFBQSwyQkFXQSxNQUFBLEdBQVEsU0FBQSxHQUFBO2FBQ04sSUFBQyxDQUFBLFlBQVksQ0FBQyxLQUFkLENBQUEsRUFETTtJQUFBLENBWFIsQ0FBQTs7d0JBQUE7O01BREYsQ0FBQTs7QUFBQSxFQWdCQSxPQUFPLENBQUMsTUFBUixDQUFlLFFBQWYsQ0FBd0IsQ0FBQyxPQUF6QixDQUFpQyxjQUFqQyxFQUFpRCxDQUFDLE9BQUQsRUFBVSxXQUFWLEVBQXVCLGNBQXZCLEVBQXVDLFlBQXZDLENBQWpELENBaEJBLENBQUE7QUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSAnc2luY2FwJywgWydpb25pYycsICd1aS5tYXNrJ11cblxuLmNvbmZpZygoJGh0dHBQcm92aWRlcikgLT5cbiAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnVG9rZW5BdXRoSW50ZXJjZXB0b3InKVxuKVxuXG4ucnVuICgkaW9uaWNQbGF0Zm9ybSkgLT5cbiAgJGlvbmljUGxhdGZvcm0ucmVhZHkgLT5cbiAgICBpZiB3aW5kb3cuY29yZG92YSBhbmQgd2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZFxuICAgICAgY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhciB0cnVlXG4gICAgaWYgd2luZG93LlN0YXR1c0JhclxuICAgICAgU3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpIiwiYW5ndWxhci5tb2R1bGUgJ3NpbmNhcCdcbi5jb25maWcgKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIC0+XG4gICRzdGF0ZVByb3ZpZGVyXG4gIC5zdGF0ZSAnYXBwJyxcbiAgICB1cmw6IFwiL2FwcFwiXG4gICAgYWJzdHJhY3Q6IHRydWVcbiAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbWVudS5odG1sXCJcbiAgICBjb250cm9sbGVyOiAnQXBwQ3RybCdcblxuICAuc3RhdGUgJ2FwcC5zZWFyY2gnLFxuICAgIHVybDogXCIvc2VhcmNoXCJcbiAgICB2aWV3czpcbiAgICAgICdtZW51Q29udGVudCc6XG4gICAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9zZWFyY2guaHRtbFwiXG5cbiAgLnN0YXRlICdhcHAuY2FwdGFjb2VzJyxcbiAgICB1cmw6IFwiL2NhcHRhY29lcy86ZXN0YWRvXCJcbiAgICB2aWV3czpcbiAgICAgICdtZW51Q29udGVudCc6XG4gICAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9jYXB0YWNhby5odG1sXCJcbiAgICAgICAgY29udHJvbGxlcjogJ0NhcHRhY2FvQ3RybCdcbiAgXG4gIC5zdGF0ZSAnYXBwLnNpbmdsZScsXG4gICAgdXJsOiBcIi9jYXB0YWNvZXMvOnByb2Nlc3NvSWRcIlxuICAgIHZpZXdzOlxuICAgICAgJ21lbnVDb250ZW50JzpcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL2Zvcm0uaHRtbFwiXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDYXB0YWNhb0N0cmwnXG4gICAgICAgIFxuICAuc3RhdGUgJ2FwcC5sb2dpbicsXG4gICAgdXJsOiBcIi9sb2dpblwiXG4gICAgdmlld3M6XG4gICAgICAnbWVudUNvbnRlbnQnOlxuICAgICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbG9naW4uaHRtbFwiXG4gICAgICAgIGNvbnRyb2xsZXI6ICdMb2dpbkN0cmwnXG5cbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSAnL2FwcC9sb2dpbiciLCJUb2tlbkF1dGhJbnRlcmNlcHRvciA9ICgkcSwgVG9rZW5TdG9yYWdlKSAtPlxuICB7XG4gICAgcmVxdWVzdDogKGNvbmZpZykgLT5cbiAgICAgIGF1dGhUb2tlbiA9IFRva2VuU3RvcmFnZS5yZXRyaWV2ZSgpXG4gICAgICBcbiAgICAgIGlmIChhdXRoVG9rZW4pXG4gICAgICAgIGNvbmZpZy5oZWFkZXJzWydYLUFVVEgtVE9LRU4nXSA9IGF1dGhUb2tlblxuICAgICAgXG4gICAgICBjb25maWdcblxuICAgIHJlc3BvbnNlRXJyb3I6IChlcnJvcikgLT5cbiAgICAgIGlmIChlcnJvci5zdGF0dXMgaXMgNDAxIG9yIGVycm9yLnN0YXR1cyBpcyA0MDMpXG4gICAgICAgIFRva2VuU3RvcmFnZS5jbGVhcigpXG5cbiAgICAgICRxLnJlamVjdChlcnJvcilcblxuICB9XG5cbmFuZ3VsYXIubW9kdWxlKCdzaW5jYXAnKS5mYWN0b3J5ICdUb2tlbkF1dGhJbnRlcmNlcHRvcicsIFsnJHEnLCAnVG9rZW5TdG9yYWdlJywgVG9rZW5BdXRoSW50ZXJjZXB0b3JdIiwiVG9rZW5TdG9yYWdlID0gKCkgLT5cbiAgc3RvcmFnZUtleSA9ICcnXG4gIFxuICB7XG4gIHN0b3JlOiAodG9rZW4pIC0+XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgdG9rZW4pXG5cbiAgcmV0cmlldmU6ICgpIC0+XG4gICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSlcblxuICBjbGVhciA6ICgpIC0+XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oc3RvcmFnZUtleSlcbiAgfVxuICBcblxuYW5ndWxhci5tb2R1bGUoJ3NpbmNhcCcpLmZhY3RvcnkgJ1Rva2VuU3RvcmFnZScsIFtUb2tlblN0b3JhZ2VdIiwiY2xhc3MgQXBwQ29udHJvbGxlclxuICBjb25zdHJ1Y3RvcjogKEAkc2NvcGUsIEBDYXB0YWNhb1NlcnZpY2UpIC0+XG4gICAgUkVBTElaQVIgPSAnQUdVQVJEQU5ET0NBUFRBQ0FPJ1xuICAgIENPUlJJR0lSID0gICdBR1VBUkRBTkRPQ09SUkVDQU9DQVBUQUNBQ0FPJ1xuXG4gICAgQENhcHRhY2FvU2VydmljZS5xdWFudENhcHRhY29lc1JlYWxpemFyKFJFQUxJWkFSKS50aGVuIChyZXN1bHRzKSA9PlxuICAgICAgQCRzY29wZS5xdWFudENhcHRhY29lc1JlYWxpemFyID0gcmVzdWx0c1xuICAgIEBDYXB0YWNhb1NlcnZpY2UucXVhbnRDYXB0YWNvZXNSZWFsaXphcihDT1JSSUdJUikudGhlbiAocmVzdWx0cykgPT5cbiAgICAgIEAkc2NvcGUucXVhbnRDYXB0YWNvZXNDb3JyaWdpciA9IHJlc3VsdHNcblxuYW5ndWxhci5tb2R1bGUoJ3NpbmNhcCcpLmNvbnRyb2xsZXIgJ0FwcEN0cmwnLCBbJyRzY29wZScsICdDYXB0YWNhb1NlcnZpY2UnLCBBcHBDb250cm9sbGVyXVxuIiwiY2xhc3MgQ2FwdGFjYW9Db250cm9sbGVyXG4gIGNvbnN0cnVjdG9yOiAoQCRzY29wZSwgQCRzdGF0ZVBhcmFtcywgQGNhcHRhY2FvU2VydmljZSkgLT5cbiAgICBAJHNjb3BlLmVzdGFkbyA9IEAkc3RhdGVQYXJhbXMuZXN0YWRvXG5cbiAgICBAY2FwdGFjYW9TZXJ2aWNlLmNhcHRhY2FvUG9yVGlwbyhAJHNjb3BlLmVzdGFkbykudGhlbiAocmVzdWx0cykgPT5cbiAgICAgIEAkc2NvcGUucHJvY2Vzc29zID0ge31cbiAgICAgIEAkc2NvcGUucHJvY2Vzc29zID0gcmVzdWx0c1xuXG4gICAgQCRzY29wZS50aXRsZSA9ICdDYXB0YcOnw7VlcydcblxuYW5ndWxhci5tb2R1bGUoJ3NpbmNhcCcpLmNvbnRyb2xsZXIgJ0NhcHRhY2FvQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdDYXB0YWNhb1NlcnZpY2UnLCBDYXB0YWNhb0NvbnRyb2xsZXJdIiwiY2xhc3MgTG9naW5Db250cm9sbGVyXG4gIGNvbnN0cnVjdG9yOiAoQCRzY29wZSwgQCRsb2NhdGlvbiwgQGxvZ2luU2VydmljZSkgLT5cbiAgICBAJHNjb3BlLmRhdGEgPSB7fVxuICAgIEAkc2NvcGUucGxhY2Vob2xkZXIgPSBcIkNQRlwiXG4gICAgQCRzY29wZS5tYXNrID0gXCJcIlxuICAgIFxuICAgIEAkc2NvcGUubG9naW4gPSAoZGF0YSkgPT5cbiAgICAgIGRhdGEgPSBAJHNjb3BlLmZvcm1hdGFDUEYgZGF0YVxuICAgICAgQGxvZ2luU2VydmljZS5sb2dpbihkYXRhKS5zdWNjZXNzIChyZXN1bHRzKSAtPlxuXG4gICAgQCRzY29wZS5mb3JtYXRhQ1BGID0gKGRhdGEpIC0+XG4gICAgICBjcGYgPSBkYXRhLnVzZXJuYW1lXG4gICAgICBkYXRhLnVzZXJuYW1lID0gY3BmLnNsaWNlKDAsMykrJy4nK2NwZi5zbGljZSgzLDYpKycuJytjcGYuc2xpY2UoNiw5KSsnLScrY3BmLnNsaWNlKDksMTIpXG4gICAgICBkYXRhXG5cbiAgICBAJHNjb3BlLmZvY3VzID0gKCkgPT5cbiAgICAgIGNvbnNvbGUubG9nKFwiZm9jdXNcIilcbiAgICAgIEAkc2NvcGUubWFzayA9IFwiOTk5Ljk5OS45OTktOTlcIlxuICAgICAgQCRzY29wZS5wbGFjZWhvbGRlciA9IFwiXCJcblxuICAgIEAkc2NvcGUubm9mb2N1cyA9ICgpID0+XG4gICAgICBjb25zb2xlLmxvZyhcIm5vZm9jdXNcIilcbiAgICAgIGlmKCFAJHNjb3BlLmRhdGEgb3IgIUAkc2NvcGUuZGF0YS51c2VybmFtZSlcbiAgICAgICAgQCRzY29wZS5wbGFjZWhvbGRlciA9IFwiQ1BGXCJcbiAgICAgICAgQCRzY29wZS5tYXNrID0gXCJcIlxuICAgICAgZWxzZVxuICAgICAgICBAJHNjb3BlLm1hc2sgPSBcIjk5OS45OTkuOTk5LTk5XCJcbiAgICAgICAgQCRzY29wZS5wbGFjZWhvbGRlciA9IFwiXCJcblxuYW5ndWxhci5tb2R1bGUoJ3NpbmNhcCcpLmNvbnRyb2xsZXIgJ0xvZ2luQ3RybCcsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICdMb2dpblNlcnZpY2UnLCBMb2dpbkNvbnRyb2xsZXJdXG4gICIsImNsYXNzIENhcHRhY2FvU2VydmljZVxuICBVUkxCQVNFID0gJ2h0dHA6Ly8xMjcuMC4wLjE6ODA4MC9tc2luY2FwL2NhcHRhY2FvJ1xuXG4gIGNvbnN0cnVjdG9yOiAoQCRodHRwKSAtPlxuICBjYXB0YWNhb1BvclRpcG86IChxdWVyeVN0cmluZykgLT5cbiAgICBAJGh0dHAuZ2V0KFVSTEJBU0UgKyAnP2VzdGFkbz0nICsgcXVlcnlTdHJpbmcpLnRoZW4gKHJlc3VsdHMpIC0+XG4gICAgICByZXN1bHRzLmRhdGFcblxuICBxdWFudENhcHRhY29lc1JlYWxpemFyOiAoZXN0YWRvKSAtPlxuICAgIEAkaHR0cC5nZXQoVVJMQkFTRSArICcvcXVhbnRpZGFkZScgKyAnP2VzdGFkbz0nICsgZXN0YWRvKS50aGVuIChyZXN1bHRzKSAtPlxuICAgICAgcmVzdWx0cy5kYXRhXG5cbmFuZ3VsYXIubW9kdWxlKCdzaW5jYXAnKS5zZXJ2aWNlICdDYXB0YWNhb1NlcnZpY2UnLCBbJyRodHRwJywgQ2FwdGFjYW9TZXJ2aWNlXSIsImNsYXNzIExvZ2luU2VydmljZVxuICB1cmxCYXNlID0gJ2h0dHA6Ly8xMjcuMC4wLjE6ODA4MC9tc2luY2FwL2FwaS9sb2dpbidcbiAgbmV4dFN0ZXAgPSAnYXBwL2NhcHRhY29lcy9BR1VBUkRBTkRPQ0FQVEFDQU8nXG5cbiAgY29uc3RydWN0b3I6IChAJGh0dHAsIEAkbG9jYXRpb24sIEBUb2tlblN0b3JhZ2UpIC0+XG5cbiAgbG9naW46IChkYXRhKSA9PlxuICAgIEAkaHR0cC5wb3N0KFwiI3t1cmxCYXNlfVwiLCBkYXRhKS5zdWNjZXNzIChyZXN1bHQpID0+XG4gICAgICAjQCRzY29wZS5hdXRoZW50aWNhdGVkID0gdHJ1ZVxuICAgICAgQFRva2VuU3RvcmFnZS5zdG9yZShyZXN1bHQpXG4gICAgICBAJGxvY2F0aW9uLnBhdGgobmV4dFN0ZXApXG5cbiAgbG9nb2ZmOiAoKSA9PlxuICAgIEBUb2tlblN0b3JhZ2UuY2xlYXIoKVxuICAgICMkc2NvcGUuYXV0aGVudGljYXRlZCA9IGZhbHNlXG5cbmFuZ3VsYXIubW9kdWxlKCdzaW5jYXAnKS5zZXJ2aWNlICdMb2dpblNlcnZpY2UnLCBbJyRodHRwJywgJyRsb2NhdGlvbicsICdUb2tlblN0b3JhZ2UnLCBMb2dpblNlcnZpY2VdXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=