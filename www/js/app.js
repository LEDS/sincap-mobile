(function() {
  angular.module('sincap', ['ionic', 'ui.mask']).config(function($httpProvider) {
    return $httpProvider.interceptors.push('TokenAuthInterceptor');
  }).run(function($ionicPlatform) {
    return $ionicPlatform.ready(function() {
      if (window.cordova && window.cordova.plugins.Keyboard) {
        cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);
      }
      if (window.StatusBar) {
        return StatusBar.styleDefault();
      }
    });
  });

}).call(this);

(function() {
  angular.module('sincap').config(function($stateProvider, $urlRouterProvider) {
    $stateProvider.state('app', {
      url: "/app",
      abstract: true,
      templateUrl: "templates/menu.html",
      controller: 'AppCtrl'
    }).state('app.search', {
      url: "/search",
      views: {
        'menuContent': {
          templateUrl: "templates/search.html"
        }
      }
    }).state('app.captacoes', {
      url: "/captacoes/:estado",
      views: {
        'menuContent': {
          templateUrl: "templates/captacao.html",
          controller: 'CaptacaoCtrl'
        }
      }
    }).state('app.single', {
      url: "/captacoes/:processoId",
      views: {
        'menuContent': {
          templateUrl: "templates/form.html",
          controller: 'CaptacaoCtrl'
        }
      }
    }).state('app.login', {
      url: "/login",
      views: {
        'menuContent': {
          templateUrl: "templates/login.html",
          controller: 'LoginCtrl as ctrl'
        }
      }
    });
    return $urlRouterProvider.otherwise('/app/login');
  });

}).call(this);

(function() {
  var AppController;

  AppController = (function() {
    function AppController($scope, CaptacaoService) {
      var CORRIGIR, REALIZAR;
      this.$scope = $scope;
      this.CaptacaoService = CaptacaoService;
      REALIZAR = 'AGUARDANDOCAPTACAO';
      CORRIGIR = 'AGUARDANDOCORRECAOCAPTACACAO';
      this.CaptacaoService.quantCaptacoesRealizar(REALIZAR).then((function(_this) {
        return function(results) {
          return _this.$scope.quantCaptacoesRealizar = results;
        };
      })(this));
      this.CaptacaoService.quantCaptacoesRealizar(CORRIGIR).then((function(_this) {
        return function(results) {
          return _this.$scope.quantCaptacoesCorrigir = results;
        };
      })(this));
    }

    return AppController;

  })();

  angular.module('sincap').controller('AppCtrl', ['$scope', 'CaptacaoService', AppController]);

}).call(this);

(function() {
  var CaptacaoController;

  CaptacaoController = (function() {
    function CaptacaoController($scope, $stateParams, captacaoService) {
      this.$scope = $scope;
      this.$stateParams = $stateParams;
      this.captacaoService = captacaoService;
      this.$scope.estado = this.$stateParams.estado;
      this.captacaoService.captacaoPorTipo(this.$scope.estado).then((function(_this) {
        return function(results) {
          _this.$scope.processos = {};
          return _this.$scope.processos = results;
        };
      })(this));
      this.$scope.title = 'Captações';
    }

    return CaptacaoController;

  })();

  angular.module('sincap').controller('CaptacaoCtrl', ['$scope', '$stateParams', 'CaptacaoService', CaptacaoController]);

}).call(this);

(function() {
  var LoginController;

  LoginController = (function() {
    function LoginController($scope, $location, loginService) {
      this.$scope = $scope;
      this.$location = $location;
      this.loginService = loginService;
      this.data = {};
      this.placeholder = "CPF";
      this.mask = "";
    }

    LoginController.prototype.login = function(data) {
      this.data = this.formataCPF(data);
      return this.loginService.login(data).success(function(results) {});
    };

    LoginController.prototype.formataCPF = function(data) {
      var cpf;
      cpf = data.username;
      data.username = cpf.slice(0, 3) + '.' + cpf.slice(3, 6) + '.' + cpf.slice(6, 9) + '-' + cpf.slice(9, 12);
      return data;
    };

    return LoginController;

  })();

  angular.module('sincap').controller('LoginCtrl', ['$scope', '$location', 'LoginService', LoginController]);

}).call(this);

(function() {
  var TokenAuthInterceptor;

  TokenAuthInterceptor = function($q, TokenStorage) {
    return {
      request: function(config) {
        var authToken;
        authToken = TokenStorage.retrieve();
        if (authToken) {
          config.headers['X-AUTH-TOKEN'] = authToken;
        }
        return config;
      },
      responseError: function(error) {
        if (error.status === 401 || error.status === 403) {
          TokenStorage.clear();
        }
        return $q.reject(error);
      }
    };
  };

  angular.module('sincap').factory('TokenAuthInterceptor', ['$q', 'TokenStorage', TokenAuthInterceptor]);

}).call(this);

(function() {
  var TokenStorage;

  TokenStorage = function() {
    var storageKey;
    storageKey = '';
    return {
      store: function(token) {
        return localStorage.setItem(storageKey, token);
      },
      retrieve: function() {
        return localStorage.getItem(storageKey);
      },
      clear: function() {
        return localStorage.removeItem(storageKey);
      }
    };
  };

  angular.module('sincap').factory('TokenStorage', [TokenStorage]);

}).call(this);

(function() {
  var CaptacaoService;

  CaptacaoService = (function() {
    var URLBASE;

    URLBASE = 'http://127.0.0.1:8080/msincap/captacao';

    function CaptacaoService($http) {
      this.$http = $http;
    }

    CaptacaoService.prototype.captacaoPorTipo = function(queryString) {
      return this.$http.get(URLBASE + '?estado=' + queryString).then(function(results) {
        return results.data;
      });
    };

    CaptacaoService.prototype.quantCaptacoesRealizar = function(estado) {
      return this.$http.get(URLBASE + '/quantidade' + '?estado=' + estado).then(function(results) {
        return results.data;
      });
    };

    return CaptacaoService;

  })();

  angular.module('sincap').service('CaptacaoService', ['$http', CaptacaoService]);

}).call(this);

(function() {
  var LoginService,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  LoginService = (function() {
    var nextStep, urlBase;

    urlBase = 'http://127.0.0.1:8080/msincap/api/login';

    nextStep = 'app/captacoes/AGUARDANDOCAPTACAO';

    function LoginService($http, $location, TokenStorage) {
      this.$http = $http;
      this.$location = $location;
      this.TokenStorage = TokenStorage;
      this.logoff = bind(this.logoff, this);
      this.login = bind(this.login, this);
    }

    LoginService.prototype.login = function(data) {
      return this.$http.post("" + urlBase, data).success((function(_this) {
        return function(result) {
          _this.TokenStorage.store(result);
          return _this.$location.path(nextStep);
        };
      })(this));
    };

    LoginService.prototype.logoff = function() {
      return this.TokenStorage.clear();
    };

    return LoginService;

  })();

  angular.module('sincap').service('LoginService', ['$http', '$location', 'TokenStorage', LoginService]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb2ZmZWUiLCJyb3V0ZXMuY29mZmVlIiwiY29udHJvbGxlcnMvQXBwQ29udHJvbGxlci5jb2ZmZWUiLCJjb250cm9sbGVycy9DYXB0YWNhb0NvbnRyb2xsZXIuY29mZmVlIiwiY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmNvZmZlZSIsImludGVyc2VwdGFkb3IvVG9rZW5BdXRoSW50ZXJjZXB0b3IuY29mZmVlIiwiaW50ZXJzZXB0YWRvci9Ub2tlblN0b3JhZ2UuY29mZmVlIiwic2VydmljZXMvQ2FwdGFjYW9TZXJ2aWNlLmNvZmZlZSIsInNlcnZpY2VzL0xvZ2luU2VydmljZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxFQUFBLE9BQU8sQ0FBQyxNQUFSLENBQWUsUUFBZixFQUF5QixDQUFDLE9BQUQsRUFBVSxTQUFWLENBQXpCLENBRUEsQ0FBQyxNQUZELENBRVEsU0FBQyxhQUFELEdBQUE7V0FDTixhQUFhLENBQUMsWUFBWSxDQUFDLElBQTNCLENBQWdDLHNCQUFoQyxFQURNO0VBQUEsQ0FGUixDQU1BLENBQUMsR0FORCxDQU1LLFNBQUMsY0FBRCxHQUFBO1dBQ0gsY0FBYyxDQUFDLEtBQWYsQ0FBcUIsU0FBQSxHQUFBO0FBQ25CLE1BQUEsSUFBRyxNQUFNLENBQUMsT0FBUCxJQUFtQixNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUE3QztBQUNFLFFBQUEsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsd0JBQXpCLENBQWtELElBQWxELENBQUEsQ0FERjtPQUFBO0FBRUEsTUFBQSxJQUFHLE1BQU0sQ0FBQyxTQUFWO2VBQ0UsU0FBUyxDQUFDLFlBQVYsQ0FBQSxFQURGO09BSG1CO0lBQUEsQ0FBckIsRUFERztFQUFBLENBTkwsQ0FBQSxDQUFBO0FBQUE7OztBQ0FBO0FBQUEsRUFBQSxPQUFPLENBQUMsTUFBUixDQUFlLFFBQWYsQ0FDQSxDQUFDLE1BREQsQ0FDUSxTQUFDLGNBQUQsRUFB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RCxFQUFTLFNBQVQsRUFBcUIsWUFBckIsR0FBQTtBQUFxQyxNQUFwQyxJQUFDLENBQUEsUUFBRCxLQUFvQyxDQUFBO0FBQUEsTUFBNUIsSUFBQyxDQUFBLFlBQUQsU0FBNEIsQ0FBQTtBQUFBLE1BQWhCLElBQUMsQ0FBQSxlQUFELFlBQWdCLENBQUE7QUFBQSwyQ0FBQSxDQUFBO0FBQUEseUNBQUEsQ0FBckM7SUFBQSxDQUhiOztBQUFBLDJCQUtBLEtBQUEsR0FBTyxTQUFDLElBQUQsR0FBQTthQUNMLElBQUMsQ0FBQSxLQUFLLENBQUMsSUFBUCxDQUFZLEVBQUEsR0FBRyxPQUFmLEVBQTBCLElBQTFCLENBQStCLENBQUMsT0FBaEMsQ0FBd0MsQ0FBQSxTQUFBLEtBQUEsR0FBQTtlQUFBLFNBQUMsTUFBRCxHQUFBO0FBRXRDLFVBQUEsS0FBQyxDQUFBLFlBQVksQ0FBQyxLQUFkLENBQW9CLE1BQXBCLENBQUEsQ0FBQTtpQkFDQSxLQUFDLENBQUEsU0FBUyxDQUFDLElBQVgsQ0FBZ0IsUUFBaEIsRUFIc0M7UUFBQSxFQUFBO01BQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUF4QyxFQURLO0lBQUEsQ0FMUCxDQUFBOztBQUFBLDJCQVdBLE1BQUEsR0FBUSxTQUFBLEdBQUE7YUFDTixJQUFDLENBQUEsWUFBWSxDQUFDLEtBQWQsQ0FBQSxFQURNO0lBQUEsQ0FYUixDQUFBOzt3QkFBQTs7TUFERixDQUFBOztBQUFBLEVBZ0JBLE9BQU8sQ0FBQyxNQUFSLENBQWUsUUFBZixDQUF3QixDQUFDLE9BQXpCLENBQWlDLGNBQWpDLEVBQWlELENBQUMsT0FBRCxFQUFVLFdBQVYsRUFBdUIsY0FBdkIsRUFBdUMsWUFBdkMsQ0FBakQsQ0FoQkEsQ0FBQTtBQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlICdzaW5jYXAnLCBbJ2lvbmljJywgJ3VpLm1hc2snXVxuXG4uY29uZmlnKCgkaHR0cFByb3ZpZGVyKSAtPlxuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdUb2tlbkF1dGhJbnRlcmNlcHRvcicpXG4pXG5cbi5ydW4gKCRpb25pY1BsYXRmb3JtKSAtPlxuICAkaW9uaWNQbGF0Zm9ybS5yZWFkeSAtPlxuICAgIGlmIHdpbmRvdy5jb3Jkb3ZhIGFuZCB3aW5kb3cuY29yZG92YS5wbHVnaW5zLktleWJvYXJkXG4gICAgICBjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyIHRydWVcbiAgICBpZiB3aW5kb3cuU3RhdHVzQmFyXG4gICAgICBTdGF0dXNCYXIuc3R5bGVEZWZhdWx0KCkiLCJhbmd1bGFyLm1vZHVsZSAnc2luY2FwJ1xuLmNvbmZpZyAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikgLT5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgLnN0YXRlICdhcHAnLFxuICAgIHVybDogXCIvYXBwXCJcbiAgICBhYnN0cmFjdDogdHJ1ZVxuICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9tZW51Lmh0bWxcIlxuICAgIGNvbnRyb2xsZXI6ICdBcHBDdHJsJ1xuXG4gIC5zdGF0ZSAnYXBwLnNlYXJjaCcsXG4gICAgdXJsOiBcIi9zZWFyY2hcIlxuICAgIHZpZXdzOlxuICAgICAgJ21lbnVDb250ZW50JzpcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL3NlYXJjaC5odG1sXCJcblxuICAuc3RhdGUgJ2FwcC5jYXB0YWNvZXMnLFxuICAgIHVybDogXCIvY2FwdGFjb2VzLzplc3RhZG9cIlxuICAgIHZpZXdzOlxuICAgICAgJ21lbnVDb250ZW50JzpcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL2NhcHRhY2FvLmh0bWxcIlxuICAgICAgICBjb250cm9sbGVyOiAnQ2FwdGFjYW9DdHJsJ1xuXG4gIC5zdGF0ZSAnYXBwLnNpbmdsZScsXG4gICAgdXJsOiBcIi9jYXB0YWNvZXMvOnByb2Nlc3NvSWRcIlxuICAgIHZpZXdzOlxuICAgICAgJ21lbnVDb250ZW50JzpcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL2Zvcm0uaHRtbFwiXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDYXB0YWNhb0N0cmwnXG5cbiAgLnN0YXRlICdhcHAubG9naW4nLFxuICAgIHVybDogXCIvbG9naW5cIlxuICAgIHZpZXdzOlxuICAgICAgJ21lbnVDb250ZW50JzpcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL2xvZ2luLmh0bWxcIlxuICAgICAgICBjb250cm9sbGVyOiAnTG9naW5DdHJsIGFzIGN0cmwnXG5cbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSAnL2FwcC9sb2dpbidcbiIsImNsYXNzIEFwcENvbnRyb2xsZXJcbiAgY29uc3RydWN0b3I6IChAJHNjb3BlLCBAQ2FwdGFjYW9TZXJ2aWNlKSAtPlxuICAgIFJFQUxJWkFSID0gJ0FHVUFSREFORE9DQVBUQUNBTydcbiAgICBDT1JSSUdJUiA9ICAnQUdVQVJEQU5ET0NPUlJFQ0FPQ0FQVEFDQUNBTydcblxuICAgIEBDYXB0YWNhb1NlcnZpY2UucXVhbnRDYXB0YWNvZXNSZWFsaXphcihSRUFMSVpBUikudGhlbiAocmVzdWx0cykgPT5cbiAgICAgIEAkc2NvcGUucXVhbnRDYXB0YWNvZXNSZWFsaXphciA9IHJlc3VsdHNcbiAgICBAQ2FwdGFjYW9TZXJ2aWNlLnF1YW50Q2FwdGFjb2VzUmVhbGl6YXIoQ09SUklHSVIpLnRoZW4gKHJlc3VsdHMpID0+XG4gICAgICBAJHNjb3BlLnF1YW50Q2FwdGFjb2VzQ29ycmlnaXIgPSByZXN1bHRzXG5cbmFuZ3VsYXIubW9kdWxlKCdzaW5jYXAnKS5jb250cm9sbGVyICdBcHBDdHJsJywgWyckc2NvcGUnLCAnQ2FwdGFjYW9TZXJ2aWNlJywgQXBwQ29udHJvbGxlcl1cbiIsImNsYXNzIENhcHRhY2FvQ29udHJvbGxlclxuICBjb25zdHJ1Y3RvcjogKEAkc2NvcGUsIEAkc3RhdGVQYXJhbXMsIEBjYXB0YWNhb1NlcnZpY2UpIC0+XG4gICAgQCRzY29wZS5lc3RhZG8gPSBAJHN0YXRlUGFyYW1zLmVzdGFkb1xuXG4gICAgQGNhcHRhY2FvU2VydmljZS5jYXB0YWNhb1BvclRpcG8oQCRzY29wZS5lc3RhZG8pLnRoZW4gKHJlc3VsdHMpID0+XG4gICAgICBAJHNjb3BlLnByb2Nlc3NvcyA9IHt9XG4gICAgICBAJHNjb3BlLnByb2Nlc3NvcyA9IHJlc3VsdHNcblxuICAgIEAkc2NvcGUudGl0bGUgPSAnQ2FwdGHDp8O1ZXMnXG5cbmFuZ3VsYXIubW9kdWxlKCdzaW5jYXAnKS5jb250cm9sbGVyICdDYXB0YWNhb0N0cmwnLCBbJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnQ2FwdGFjYW9TZXJ2aWNlJywgQ2FwdGFjYW9Db250cm9sbGVyXSIsImNsYXNzIExvZ2luQ29udHJvbGxlclxuICBjb25zdHJ1Y3RvcjogKEAkc2NvcGUsIEAkbG9jYXRpb24sIEBsb2dpblNlcnZpY2UpIC0+XG4gICAgQGRhdGEgPSB7fVxuICAgIEBwbGFjZWhvbGRlciA9IFwiQ1BGXCJcbiAgICBAbWFzayA9IFwiXCJcblxuICBsb2dpbjogKGRhdGEpIC0+XG4gICAgQGRhdGEgPSBAZm9ybWF0YUNQRiBkYXRhXG4gICAgQGxvZ2luU2VydmljZS5sb2dpbihkYXRhKS5zdWNjZXNzIChyZXN1bHRzKSAtPlxuXG4gIGZvcm1hdGFDUEY6IChkYXRhKSAtPlxuICAgIGNwZiA9IGRhdGEudXNlcm5hbWVcbiAgICBkYXRhLnVzZXJuYW1lID0gY3BmLnNsaWNlKDAsMykrJy4nK2NwZi5zbGljZSgzLDYpKycuJytjcGYuc2xpY2UoNiw5KSsnLScrY3BmLnNsaWNlKDksMTIpXG4gICAgZGF0YVxuXG5hbmd1bGFyLm1vZHVsZSgnc2luY2FwJykuY29udHJvbGxlciAnTG9naW5DdHJsJywgWyckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ0xvZ2luU2VydmljZScsIExvZ2luQ29udHJvbGxlcl1cbiIsIlRva2VuQXV0aEludGVyY2VwdG9yID0gKCRxLCBUb2tlblN0b3JhZ2UpIC0+XG4gIHtcbiAgICByZXF1ZXN0OiAoY29uZmlnKSAtPlxuICAgICAgYXV0aFRva2VuID0gVG9rZW5TdG9yYWdlLnJldHJpZXZlKClcbiAgICAgIFxuICAgICAgaWYgKGF1dGhUb2tlbilcbiAgICAgICAgY29uZmlnLmhlYWRlcnNbJ1gtQVVUSC1UT0tFTiddID0gYXV0aFRva2VuXG4gICAgICBcbiAgICAgIGNvbmZpZ1xuXG4gICAgcmVzcG9uc2VFcnJvcjogKGVycm9yKSAtPlxuICAgICAgaWYgKGVycm9yLnN0YXR1cyBpcyA0MDEgb3IgZXJyb3Iuc3RhdHVzIGlzIDQwMylcbiAgICAgICAgVG9rZW5TdG9yYWdlLmNsZWFyKClcblxuICAgICAgJHEucmVqZWN0KGVycm9yKVxuXG4gIH1cblxuYW5ndWxhci5tb2R1bGUoJ3NpbmNhcCcpLmZhY3RvcnkgJ1Rva2VuQXV0aEludGVyY2VwdG9yJywgWyckcScsICdUb2tlblN0b3JhZ2UnLCBUb2tlbkF1dGhJbnRlcmNlcHRvcl0iLCJUb2tlblN0b3JhZ2UgPSAoKSAtPlxuICBzdG9yYWdlS2V5ID0gJydcbiAgXG4gIHtcbiAgc3RvcmU6ICh0b2tlbikgLT5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCB0b2tlbilcblxuICByZXRyaWV2ZTogKCkgLT5cbiAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KVxuXG4gIGNsZWFyIDogKCkgLT5cbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShzdG9yYWdlS2V5KVxuICB9XG4gIFxuXG5hbmd1bGFyLm1vZHVsZSgnc2luY2FwJykuZmFjdG9yeSAnVG9rZW5TdG9yYWdlJywgW1Rva2VuU3RvcmFnZV0iLCJjbGFzcyBDYXB0YWNhb1NlcnZpY2VcbiAgVVJMQkFTRSA9ICdodHRwOi8vMTI3LjAuMC4xOjgwODAvbXNpbmNhcC9jYXB0YWNhbydcblxuICBjb25zdHJ1Y3RvcjogKEAkaHR0cCkgLT5cbiAgY2FwdGFjYW9Qb3JUaXBvOiAocXVlcnlTdHJpbmcpIC0+XG4gICAgQCRodHRwLmdldChVUkxCQVNFICsgJz9lc3RhZG89JyArIHF1ZXJ5U3RyaW5nKS50aGVuIChyZXN1bHRzKSAtPlxuICAgICAgcmVzdWx0cy5kYXRhXG5cbiAgcXVhbnRDYXB0YWNvZXNSZWFsaXphcjogKGVzdGFkbykgLT5cbiAgICBAJGh0dHAuZ2V0KFVSTEJBU0UgKyAnL3F1YW50aWRhZGUnICsgJz9lc3RhZG89JyArIGVzdGFkbykudGhlbiAocmVzdWx0cykgLT5cbiAgICAgIHJlc3VsdHMuZGF0YVxuXG5hbmd1bGFyLm1vZHVsZSgnc2luY2FwJykuc2VydmljZSAnQ2FwdGFjYW9TZXJ2aWNlJywgWyckaHR0cCcsIENhcHRhY2FvU2VydmljZV0iLCJjbGFzcyBMb2dpblNlcnZpY2VcbiAgdXJsQmFzZSA9ICdodHRwOi8vMTI3LjAuMC4xOjgwODAvbXNpbmNhcC9hcGkvbG9naW4nXG4gIG5leHRTdGVwID0gJ2FwcC9jYXB0YWNvZXMvQUdVQVJEQU5ET0NBUFRBQ0FPJ1xuXG4gIGNvbnN0cnVjdG9yOiAoQCRodHRwLCBAJGxvY2F0aW9uLCBAVG9rZW5TdG9yYWdlKSAtPlxuXG4gIGxvZ2luOiAoZGF0YSkgPT5cbiAgICBAJGh0dHAucG9zdChcIiN7dXJsQmFzZX1cIiwgZGF0YSkuc3VjY2VzcyAocmVzdWx0KSA9PlxuICAgICAgI0Akc2NvcGUuYXV0aGVudGljYXRlZCA9IHRydWVcbiAgICAgIEBUb2tlblN0b3JhZ2Uuc3RvcmUocmVzdWx0KVxuICAgICAgQCRsb2NhdGlvbi5wYXRoKG5leHRTdGVwKVxuXG4gIGxvZ29mZjogKCkgPT5cbiAgICBAVG9rZW5TdG9yYWdlLmNsZWFyKClcbiAgICAjJHNjb3BlLmF1dGhlbnRpY2F0ZWQgPSBmYWxzZVxuXG5hbmd1bGFyLm1vZHVsZSgnc2luY2FwJykuc2VydmljZSAnTG9naW5TZXJ2aWNlJywgWyckaHR0cCcsICckbG9jYXRpb24nLCAnVG9rZW5TdG9yYWdlJywgTG9naW5TZXJ2aWNlXVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9